import { BadRequestException, Injectable } from '@nestjs/common';
import { CreateVehicleDto } from './dto/create-vehicle.dto';
import { UpdateVehicleDto } from './dto/update-vehicle.dto';

let mock: CreateVehicleDto[] = [
  {
    id: 1,
    name: 'Astra',
    brand: 'Chevrolet',
    manufacturingYear: '2006',
    price: 'R$ 19.500,00',
    description: 'Preto',
    ownerName: 'Ricardo',
    email: 'ric@gmail.com',
    phone: '2299822222',
    url: 'https://www.autoo.com.br/fotos/2016/1/1280_960/chevrolet_astra-sedan_2011_1_1412016_492_1280_960.jpg',
  },

  {
    id: 2,
    name: 'teste',
    brand: 'teste',
    manufacturingYear: '2006',
    price: 'R$ 19.500,00',
    description: 'teste',
    ownerName: 'Ricardo',
    email: 'ric@gmail.com',
    phone: '2299822222',
    url: 'data:image/jpeg;base64,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',
  },
];

@Injectable()
export class VehiclesService {
  create(createVehicleDto: CreateVehicleDto) {
    createVehicleDto.id = Math.max(...mock.map((o) => o.id)) + 1;
    return mock.push(createVehicleDto);
  }

  findAll() {
    return mock;
  }

  findOne(id: number) {
    const vehicleIndex = mock.findIndex((p) => p.id === id);
    return mock[vehicleIndex];
  }

  update(id: number, updateVehicleDto: UpdateVehicleDto) {
    const vehicleIndex = mock.findIndex((p) => p.id === id);
    const copyMock = { ...mock[vehicleIndex] };

    const upVehiKeys = Object.keys(updateVehicleDto);
    const mockKeys = Object.keys(mock[vehicleIndex]);

    if (upVehiKeys.every((item) => mockKeys.includes(item))) {
      if (updateVehicleDto.id && copyMock.id !== updateVehicleDto.id) {
        throw new BadRequestException('You can not change id number');
      }

      mock[vehicleIndex] = { ...mock[vehicleIndex], ...updateVehicleDto };

      return 'Update com sucesso';
    }

    throw new BadRequestException('Check the body keys');
  }

  remove(id: number) {
    mock = mock.filter((p) => p.id !== id);
    return 'Removido com sucesso';
  }
}
